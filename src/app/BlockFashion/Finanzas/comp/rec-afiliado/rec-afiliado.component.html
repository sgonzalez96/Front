<panel title="Recibos de afiliados individuales">

  <!-- form -->


      <div class="row">
          <label class="col-2">Ultimo recibo al: </label>
          <div class="m-l-10">
            <input type="date" [(ngModel)]="fecini" name="feci" class="form-control" placeholder="" required maxlength="100"/>
          </div>
          <div class="col-1">
              <button type="button" class="btn btn-warning height-30 width-40 m-l-20" title=""
                 (click)="cargoRecibosIndividuales()" ><span class="fa fa-redo btn-icon mr-2"></span></button>
          </div>
          <div class="col-auto">
            <button type="button" class="btn btn-white height-30  m-l-20 " [disabled]="lista.length == 0" (click)="exportExcel()" title=""><span class="fa fa-file-excel btn-icon mr-2"></span>Exportar</button>

        </div>
      </div>

  <!-- Tabla de PrimeNg -->
  <p-table #dt [paginator]="true" [rows]="20" [value]="lista" [responsive]="true" [showCurrentPageReport]="true" currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} ">
    <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="cedula" width="10%">
        Cedula
        <p-sortIcon field="cedula" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
      <th pSortableColumn="nombre" width="30%">
        Nombre
        <p-sortIcon field="nombre" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
      <th pSortableColumn="recibo_num" width="10%">
        Recibo
        <p-sortIcon field="recibo_num" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
      <th pSortableColumn="recibo_fec" width="10%">
        Fecha
        <p-sortIcon field="recibo_fec" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
      <th pSortableColumn="recibo_imp" width="10%">
        Importe
        <p-sortIcon field="recibo_imp" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
      <th pSortableColumn="recibo_pag" width="10%">
        Fecha Ult.
        <p-sortIcon field="recibo_pag" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
      <th pSortableColumn="telefono" width="10%">
        Telefono
        <p-sortIcon field="telefono" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
      <th width="10%">Opciones</th>
    </tr>
    <tr>
      <th>
        <input pInputText style="width: 100%;" type="text" (input)="dt.filter($event.target.value, 'cedula', 'contains')">
      </th>
      <th>
          <input pInputText style="width: 100%;" type="text" (input)="dt.filter($event.target.value, 'nombre', 'contains')">
      </th>
      <th>
        <input pInputText style="width: 100%;" type="text" (input)="dt.filter($event.target.value, 'recibo_num', 'contains')">
      </th>
      <th>
        <input pInputText style="width: 100%;" type="text" (input)="dt.filter($event.target.value, 'recibo_fec', 'contains')">
      </th>
      <th>
        <input pInputText style="width: 100%;" type="text" (input)="dt.filter($event.target.value, 'recibo_imp', 'contains')">
      </th>
      <th>
        <input pInputText style="width: 100%;" type="text" (input)="dt.filter($event.target.value, 'recibo_pag', 'contains')">
      </th>
      <th>
        <input pInputText style="width: 100%;" type="text" (input)="dt.filter($event.target.value, 'telefono', 'contains')">
      </th>
      <th></th>
    </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
      <tr>
        <td>{{item.cedula}}</td>
        <td>{{item.nombre}}</td>
        <td>{{item.recibo_num}}</td>
        <td>{{item.recibo_fec}}</td>
        <td>{{item.recibo_imp}}</td>
        <td>{{item.recibo_pag}}</td>
        <td>{{item.telefono}}</td>

        <td class="with-btn" nowrap>
          <button type="button" class="btn btn-white height-30 " [routerLink]="['/recver', item.recibo_id]"  routerLinkActive="router-link-active"
          title="Ver recibo"><span class="fa fa-eye btn-icon mr-2" style="font-size:12px"></span> </button>

        </td>
      </tr>
    </ng-template>
  </p-table>

</panel>
<!-- end panel -->
