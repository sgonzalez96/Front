<div class="login-cover">
    <div class="login-cover-image" [ngStyle]="{ 'background-image': 'url(../assets/img/login-bg/login.jpg)' }"></div>
</div>


<div class="row row-space-10">
    <div class="col col-m-d-8 m-l-5">
        <b *ngIf="activos">Eventos vigentes</b>
        <b *ngIf="!activos">Eventos archivados</b>
        <!-- {{objAfil.apellidos}}, {{objAfil.nombres}} -->
    </div>
    <div class="col col-m-d-2 m-l-5 ">
        <button *ngIf="activos " type="button" class="btn btn-gray m-l-10 pull-right" (click)="switch()" title=""
            routerLinkActive="router-link-active">
            <span class="fa fa-archive btn-icon m-r-5"></span></button>

        <button *ngIf="!activos " type="button" class="btn btn-gray  m-l-10 pull-right" (click)="switch()" title=""
            routerLinkActive="router-link-active">
            <span class="fa fa-check btn-icon m-r-5"></span></button>
    </div>

</div>
<div class="row">
    <div *ngIf="lista.length != 0" class="col-12">
        <div class="table-responsive">
            <table class="table table-striped m-b-0">
                <thead>
                    <tr>
                        <th width="10%"></th>
                        <th width="70%"></th>
                        <th width="20%"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let invitado of lista">
                        <td style="color: #181c3f;"><i title="Eventos de {{invitado.invdto.evento.tipoact.descripcion}}"
                                class="fa {{invitado.invdto.evento.tipoact.icono}} fa-2x "></i></td>
                        <td class="media-body">
                            <h6 class="media-heading">{{invitado.invdto.evento.nombre}}
                                <i *ngIf="invitado.adv_exc" tittle="Este evento requiere inscripción"
                                    class="fa fa-exclamation-circle text-danger"></i>
                                <!-- <i *ngIf="invitado.adv_sta" tittle="¡Ya se puede evaluar el evento!" class="fa fa-star fa-circle text-yellow-darker"></i> -->
                                <i *ngIf="invitado.adv_nov" tittle="Nuevo evento publicado"
                                    class="fa fa-bullhorn text-primary"></i>
                                <!-- <i *ngIf="invitado.adv_han" tittle="¡Ya se puede marcar su asistencia!" class="fa fa-hand-spock fa-circle text-green"></i> -->
                                <!-- <i *ngIf="invitado.adv_pow" tittle="Puede archivar este evento " class="fa fa-power-off text-gray-dark-darker"></i> -->
                            </h6>
                            <div class="text-muted f-s-10">{{invitado.invdto.evento.fecha}}
                                {{invitado.invdto.evento.hora}} en {{invitado.invdto.evento.lugar}}</div>
                        </td>
                        <td class="media-right">
                            <a *ngIf="invitado.btn_pen" title="Inscribirse al evento" (click)="inscripcion(invitado)">
                                <span class="fa fa-pencil-alt fa-1x btn-icon text-green m-l-5"></span></a>
                            <a *ngIf="invitado.btn_thu" title="Declinar invitación" (click)="rechazo(invitado)">
                                <span class="fa fa-thumbs-down fa-1x btn-icon text-danger-darker m-l-5"></span></a>
                            <!-- <a *ngIf="invitado.btn_han" title="Indicar asistencia" (click)="asistencia(invitado)" >
                    <span class="fa fa-hand-spock fa-1x btn-icon text-green m-l-5"></span></a>-->
                            <a *ngIf="invitado.btn_tha" title="No pude asistir!" (click)="falta(invitado)">
                                <span class="fa fa-hand-spock fa-1x btn-icon text-red m-l-5"></span></a>
                            <a *ngIf="invitado.btn_sta" title="Quiero evaluar el evento"
                                (click)="evaluar(modalEval,invitado)">
                                <span class="fa fa-star fa-1x btn-icon text-yellow-transparent-8 m-l-5"></span></a>
                            <!-- <a *ngIf="invitado.btn_pow" title="Archivar el evento" (click)="archivar(invitado)" >
                    <span class="fa fa-power-off fa-1x btn-icon text-orange m-l-5"></span></a>  -->

                            <span *ngIf="invitado.invdto.evento.link != null ">
                                <a href={{invitado.invdto.evento.link}} target="blank"><br>+ Info</a>
                            </span>
                            <span *ngIf="invitado.invdto.evento.link == null">
                                <a href='javascript:;' (click)="sinUrl()" ><br>+ Info</a>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>



<ng-template #modalEval let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title">Evaluacion del evento</h4>
        <button type="button" class="close" (click)="d('Cross click')">×</button>
    </div>
    <h5 class="m-l-15"> {{objInv.invdto.evento.nombre}}</h5>
    <div class="modal-body">
        <form #fmod="ngForm" (ngSubmit)="evaluo(fmod)" class="margin-bottom-0 margin-top-10">
            <div class="m-b-10">
                <label class="control-label ">Comentarios</label>
                <div class="m-b-10">
                    <textarea [(ngModel)]="notas" name="nota" class="form-control" rows="3"></textarea>
                </div>

                <label class="control-label ">Calificación</label>
                <div>
                    <input type="text" [(ngModel)]="qualy" name="qualy" class="form-control" appOnlydigits />
                </div>
            </div>
            <div class="row row-space-10 m-b-10">
                <div class="register-buttons">
                    <button type="submit" class="btn btn-white height-30  m-l-10 width-150" title="">
                        <span class="fa fa-check btn-icon m-r-20">Enviar</span></button>

                    <button type="button" class="btn btn-white height-30  m-l-10 width-150" title=""
                        (click)="c('Close click')">
                        <span class="fa fa-times btn-icon m-r-20">Cancelar</span></button>
                </div>
            </div>
        </form>
    </div>
</ng-template>